{"ast":null,"code":"import _slicedToArray from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Stage,Layer,Rect,Circle,Image,Text,Group,Line}from'react-konva';import ImageCall from\"../../../../../assets/cv2-assets/phone-call.svg\";import ImagEmail from\"../../../../../assets/cv2-assets/envelope.svg\";import ImageAddress from\"../../../../../assets/cv2-assets/address.svg\";import jsPDF from'jspdf';import useImage from'use-image';var Cv2=/*#__PURE__*/function(_Component){_inherits(Cv2,_Component);var _super=_createSuper(Cv2);function Cv2(props){var _this;_classCallCheck(this,Cv2);_this=_super.call(this,props);_this.employmentsHeightToAdd=[];_this.employmentsRefs=[];_this.educationsHeightToAdd=[];_this.educationsRefs=[];_this.state={callImage:ImageCall};_this.returnEmployments=_this.returnEmployments.bind(_assertThisInitialized(_this));_this.returnEducations=_this.returnEducations.bind(_assertThisInitialized(_this));_this.returnSkills=_this.returnSkills.bind(_assertThisInitialized(_this));return _this;}//////////  Handling return of employments\n_createClass(Cv2,[{key:\"returnEmployments\",// Reference of every employments Item\nvalue:function returnEmployments(){var _this2=this;var employmentsObjects=[];// will hold employments items\nvar arrayToReturn=[];// Array thet will be return to render function\nthis.employmentsRefs=Object.assign([],this.employmentsRefs);// To fix Object not assignable \nvar TotalHeightToAdd=0;var _loop=function _loop(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this2.employmentsHeightToAdd[index-1];}employmentsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:index==0?TotalHeightToAdd:TotalHeightToAdd+10,ref:function ref(node){_this2.employmentsRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{x:140,y:10,width:70,fontSize:6,fontFamily:\"Poppins\",text:_this2.props.values.employments[index].employer,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text,{x:140,y:22,width:70,fontSize:5,fontFamily:\"Poppins\",text:_this2.props.values.employments[index].begin+\" - \"+_this2.props.values.employments[index].end}),/*#__PURE__*/React.createElement(Text,{x:215,y:10,fontSize:6,width:230,fontFamily:\"Poppins\",text:_this2.props.values.employments[index].jobTitle,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text,{x:215,y:22,fontSize:5,width:230,fontFamily:\"Poppins\",text:_this2.props.values.employments[index].description})),height:index>0?_this2.employmentsHeightToAdd[index-1]:0};_this2.employmentsRefs[index]!=undefined?_this2.employmentsHeightToAdd[index]=parseInt(_this2.employmentsRefs[index].getClientRect().height):_this2.employmentsHeightToAdd[index]=0;arrayToReturn.push(employmentsObjects[index].item);};for(var index=0;index<this.props.values.employments.length;index++){_loop(index);}return arrayToReturn;}//////////  Handling return of Educations\n},{key:\"returnEducations\",// Reference of every Educations Item\nvalue:function returnEducations(){var _this3=this;var educationsObjects=[];// will hold Educations items\nvar arrayToReturn=[];// Array thet will be return to render function\nthis.educationsRefs=Object.assign([],this.educationsRefs);// To fix Object not assignable \nvar TotalHeightToAdd=0;var _loop2=function _loop2(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this3.educationsHeightToAdd[index-1];}educationsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:index==0?TotalHeightToAdd:TotalHeightToAdd+10,ref:function ref(node){_this3.educationsRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{x:140,y:10,width:70,fontSize:6,fontFamily:\"Poppins\",text:_this3.props.values.educations[index].school,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text,{x:140,y:22,width:70,fontSize:5,fontFamily:\"Poppins\",text:_this3.props.values.educations[index].started+\" - \"+_this3.props.values.educations[index].finished}),/*#__PURE__*/React.createElement(Text,{x:215,y:10,fontSize:6,width:230,fontFamily:\"Poppins\",text:_this3.props.values.educations[index].degree,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text,{x:215,y:22,fontSize:5,width:230,fontFamily:\"Poppins\",text:_this3.props.values.educations[index].description})),height:index>0?_this3.educationsHeightToAdd[index-1]:0};_this3.educationsRefs[index]!=undefined?_this3.educationsHeightToAdd[index]=parseInt(_this3.educationsRefs[index].getClientRect().height):_this3.educationsHeightToAdd[index]=0;arrayToReturn.push(educationsObjects[index].item);};for(var index=0;index<this.props.values.educations.length;index++){_loop2(index);}return arrayToReturn;}},{key:\"returnSkills\",value:function returnSkills(){var skillsObject=[];var arrayToReturn=[];var numberInLine=1;var heightToAdd=10;for(var index=0;index<this.props.values.skills.length;index++){skillsObject[index]={item:/*#__PURE__*/React.createElement(Group,{y:heightToAdd,x:40+numberInLine*100},/*#__PURE__*/React.createElement(Text,{text:this.props.values.skills[index].name,fontFamily:\"Poppins\",fontSize:6,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Group,{x:60},/*#__PURE__*/React.createElement(Circle,{x:4,y:3,width:5,fill:this.props.values.skills[index].rating>0?\"#F0C30E\":\"#D3D3D3\"}),/*#__PURE__*/React.createElement(Circle,{x:10,y:3,width:5,fill:this.props.values.skills[index].rating>30?\"#F0C30E\":\"#D3D3D3\"}),/*#__PURE__*/React.createElement(Circle,{x:16,y:3,width:5,fill:this.props.values.skills[index].rating>50?\"#F0C30E\":\"#D3D3D3\"}),/*#__PURE__*/React.createElement(Circle,{x:22,y:3,width:5,fill:this.props.values.skills[index].rating>80?\"#F0C30E\":\"#D3D3D3\"}),/*#__PURE__*/React.createElement(Circle,{x:28,y:3,width:5,fill:this.props.values.skills[index].rating>90?\"#F0C30E\":\"#D3D3D3\"})))};numberInLine==3?numberInLine=1:numberInLine=numberInLine+1;index==2?heightToAdd=heightToAdd+20:index==5?heightToAdd=heightToAdd+20:index==8?heightToAdd=heightToAdd+20:heightToAdd=heightToAdd;arrayToReturn.push(skillsObject[index].item);}return arrayToReturn;}},{key:\"checkForDownload\",value:function checkForDownload(){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:4,y:0});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var pdf=new jsPDF();pdf.addImage(dataUrl,'JPEG',0,0,width,height);pdf.save(\"Resume\"+\".pdf\");this.props.downloadEnded();if(this.props.pages>1){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:4,y:637});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var _pdf=new jsPDF();_pdf.addImage(dataUrl,'JPEG',0,0,width,height);_pdf.save(\"Resume_Page_2\"+\".pdf\");}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.layer!=undefined){if(parseInt(this.layer.getClientRect().height)>620&&this.props.pages==1){this.props.addPage();}}// Checking when download is clicked and trigger a download \nthis.props.triggerDownload==true&&this.checkForDownload();}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(Stage,{width:470,height:640,ref:function ref(node){_this4.stageRef=node;}},/*#__PURE__*/React.createElement(Layer,{ref:function ref(node){_this4.layer=node;},y:this.props.currentPage>1?-650:0},/*#__PURE__*/React.createElement(Circle,{x:97,y:72,width:120,fill:\"#F0C30E\"}),/*#__PURE__*/React.createElement(Text,{x:80,y:50,fontFamily:\"Poppins\",fontSize:29,fontStyle:\"bold\",text:this.props.values.firstname+\" \"+this.props.values.lastname}),/*#__PURE__*/React.createElement(Text,{x:80,y:79,fontFamily:\"Poppins\",fontSize:22,text:this.props.values.occupation}),/*#__PURE__*/React.createElement(Group,null,/*#__PURE__*/React.createElement(ImageCanvas,{width:22,height:22,x:150,y:135,image:ImageCall}),/*#__PURE__*/React.createElement(Text,{text:\"Phone\",fontSize:9,fontFamily:\"Poppins\",fontStyle:\"bold\",x:180,y:137}),/*#__PURE__*/React.createElement(Text,{width:80,text:this.props.values.phone,fontSize:5,fontFamily:\"Poppins\",x:180,y:150}),/*#__PURE__*/React.createElement(ImageCanvas,{width:22,height:22,x:242,y:135,image:ImagEmail}),/*#__PURE__*/React.createElement(Text,{text:\"Email\",fontSize:9,fontFamily:\"Poppins\",fontStyle:\"bold\",x:270,y:137}),/*#__PURE__*/React.createElement(Text,{width:50,text:this.props.values.email,fontSize:5,fontFamily:\"Poppins\",x:270,y:150}),/*#__PURE__*/React.createElement(ImageCanvas,{width:22,height:22,x:330,y:135,image:ImageAddress}),/*#__PURE__*/React.createElement(Text,{text:\"Address\",fontSize:9,fontFamily:\"Poppins\",fontStyle:\"bold\",x:355,y:137}),/*#__PURE__*/React.createElement(Text,{width:80,text:this.props.values.address+\", \"+this.props.values.country,fontSize:5,fontFamily:\"Poppins\",x:355,y:150})),/*#__PURE__*/React.createElement(Rect,{width:310,height:2,x:140,y:170,fill:\"black\"}),/*#__PURE__*/React.createElement(Group,{y:175,ref:function ref(node){_this4.summaryRef=node;}},/*#__PURE__*/React.createElement(Text,{y:5,x:20,width:120,fontFamily:\"Poppins\",fontStyle:\"bold\",fontSize:14,text:\"PROFESSIONAL DETAILS\"}),/*#__PURE__*/React.createElement(Text,{y:5,x:140,width:300,fontFamily:\"Poppins\",fontSize:5,text:this.props.values.summary})),/*#__PURE__*/React.createElement(Group,{ref:function ref(node){_this4.employmentsRef=node;},y:this.summaryRef?185+this.summaryRef.getClientRect().height:220},/*#__PURE__*/React.createElement(Rect,{width:310,height:2,x:140,fill:\"black\"}),/*#__PURE__*/React.createElement(Text,{y:10,x:20,width:120,fontFamily:\"Poppins\",fontStyle:\"bold\",fontSize:14,text:\"PROFESSIONAL EXPERIENCE\"}),this.returnEmployments()),/*#__PURE__*/React.createElement(Group,{ref:function ref(node){_this4.educationsRef=node;},y:this.summaryRef&&this.employmentsRef?200+(this.summaryRef.getClientRect().height+this.employmentsRef.getClientRect().height):220+40},/*#__PURE__*/React.createElement(Rect,{width:310,height:2,x:140,fill:\"black\"}),/*#__PURE__*/React.createElement(Text,{y:10,x:20,width:120,fontFamily:\"Poppins\",fontStyle:\"bold\",fontSize:14,text:\"EDUCATION HISTORY\"}),this.returnEducations()),/*#__PURE__*/React.createElement(Group,{width:400,y:this.summaryRef&&this.employmentsRef?205+(this.summaryRef.getClientRect().height+this.educationsRef.getClientRect().height+this.employmentsRef.getClientRect().height):250+40},/*#__PURE__*/React.createElement(Rect,{width:310,height:2,x:140,fill:\"black\"}),/*#__PURE__*/React.createElement(Text,{y:10,x:20,width:120,fontFamily:\"Poppins\",fontStyle:\"bold\",fontSize:14,text:\"SKILLS\"}),this.returnSkills())));}}]);return Cv2;}(Component);export default Cv2;/////////////////// Images\nvar ImageCanvas=function ImageCanvas(props){var _useImage=useImage(props.image),_useImage2=_slicedToArray(_useImage,1),image=_useImage2[0];return/*#__PURE__*/React.createElement(Image,{x:props.x,y:props.y,height:props.height,width:props.width,image:image});};","map":null,"metadata":{},"sourceType":"module"}