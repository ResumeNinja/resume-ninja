{"ast":null,"code":"import _classCallCheck from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Stage,Layer,Rect,Circle,Image,Text,Group,Line}from'react-konva';import jsPDF from'jspdf';var Cv3=/*#__PURE__*/function(_Component){_inherits(Cv3,_Component);var _super=_createSuper(Cv3);function Cv3(props){var _this;_classCallCheck(this,Cv3);_this=_super.call(this,props);_this.heighToAdd=[];_this.refs=[];_this.educationsHeighToAdd=[];_this.educationsRefs=[];_this.returnEmployments=_this.returnEmployments.bind(_assertThisInitialized(_this));_this.returnEducations=_this.returnEducations.bind(_assertThisInitialized(_this));_this.returnSkills=_this.returnSkills.bind(_assertThisInitialized(_this));_this.returnLaguages=_this.returnLaguages.bind(_assertThisInitialized(_this));_this.checkForDownload=_this.checkForDownload.bind(_assertThisInitialized(_this));return _this;}// Employments list data holders\n_createClass(Cv3,[{key:\"returnEmployments\",// Holding the reference of each employment item so we can access to its heigh seperatly\n/// Function responsable for returning employments and adjusting their heights\nvalue:function returnEmployments(){var _this2=this;var employmentsObjects=[];var arrayToReturn=[];var TotalHeightToAdd=0;this.refs=Object.assign([],this.refs);var _loop=function _loop(index){if(_this2.props.values.employments[index]!==null){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this2.heighToAdd[index-1]+10;}employmentsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:TotalHeightToAdd,ref:function ref(node){_this2.refs[index]=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:8,fontStyle:\"bold\",text:_this2.props.values.employments[index].jobTitle}),/*#__PURE__*/React.createElement(Text,{x:230,fontFamily:\"Georgia\",fontSize:8,text:_this2.props.values.employments[index].begin+\" - \"+_this2.props.values.employments[index].end}),/*#__PURE__*/React.createElement(Text,{y:10,fontFamily:\"Georgia\",fontSize:8,text:_this2.props.values.employments[index].employer}),/*#__PURE__*/React.createElement(Text,{y:20,width:320,fontFamily:\"Georgia\",fontSize:8,text:_this2.props.values.employments[index].description})),height:index>0?_this2.heighToAdd[index-1]:0};_this2.refs[index]!=undefined?_this2.heighToAdd[index]=parseInt(_this2.refs[index].getClientRect().height):_this2.heighToAdd[index]=0;arrayToReturn.push(employmentsObjects[index].item);}};for(var index=0;index<this.props.values.employments.length;index++){_loop(index);}return arrayToReturn;}},{key:\"returnEducations\",value:function returnEducations(){var _this3=this;var educationsObjects=[];var arraytToReturn=[];var TotalHeightToAdd=0;// give it a 30 because the heading of educations is 30 so we  need to move the educations down by 30px \nthis.educationsRefs=Object.assign([],this.educationsRefs);// To fix Object not assignable \nvar _loop2=function _loop2(index){if(_this3.props.values.educations[index]!==null){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this3.educationsHeighToAdd[index-1]+10;}educationsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:parseInt(TotalHeightToAdd),ref:function ref(node){_this3.educationsRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:8,fontStyle:\"bold\",text:_this3.props.values.educations[index].degree+\", \"+_this3.props.values.educations[index].school}),/*#__PURE__*/React.createElement(Text,{y:0,x:230,width:340,fontFamily:\"Georgia\",fontSize:8,text:_this3.props.values.educations[index].started+\" - \"+_this3.props.values.educations[index].finished}),/*#__PURE__*/React.createElement(Text,{y:10,width:320,fontFamily:\"Georgia\",fontSize:8,text:_this3.props.values.educations[index].description})),height:index>0?_this3.educationsHeighToAdd[index-1]:0};_this3.educationsRefs[index]!=undefined?_this3.educationsHeighToAdd[index]=parseInt(_this3.educationsRefs[index].getClientRect().height):_this3.educationsHeighToAdd[index]=0;arraytToReturn.push(educationsObjects[index].item);}};for(var index=0;index<this.props.values.educations.length;index++){_loop2(index);}return arraytToReturn;}},{key:\"returnSkills\",value:function returnSkills(){var skillsObject=[];var arrayToReturn=[];var numberInLine=1;var heightToAdd=10;for(var index=0;index<this.props.values.skills.length;index++){skillsObject[index]={item:/*#__PURE__*/React.createElement(Group,{y:heightToAdd,x:numberInLine==1?0:160},/*#__PURE__*/React.createElement(Circle,{y:5,width:4,fill:\"#3B3B3B\"}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#3B3B3B\",fontSize:8,x:5,y:2,text:this.props.values.skills[index].name}))};numberInLine==2?numberInLine=1:numberInLine=numberInLine+1;index==1?heightToAdd=heightToAdd+20:index==3?heightToAdd=heightToAdd+20:index==5?heightToAdd=heightToAdd+20:heightToAdd=heightToAdd;arrayToReturn.push(skillsObject[index].item);}return arrayToReturn;}},{key:\"returnLaguages\",value:function returnLaguages(){var languagesObject=[];var arrayToReturn=[];var numberInLine=1;var heightToAdd=10;for(var index=0;index<this.props.values.languages.length;index++){languagesObject[index]={item:/*#__PURE__*/React.createElement(Group,{y:heightToAdd,x:numberInLine==1?0:160},/*#__PURE__*/React.createElement(Circle,{y:5,width:4,fill:\"#3B3B3B\"}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#3B3B3B\",fontSize:8,x:5,y:2,text:this.props.values.languages[index].name+\" : \"+this.props.values.languages[index].level}))};numberInLine==2?numberInLine=1:numberInLine=numberInLine+1;index==1?heightToAdd=heightToAdd+20:index==3?heightToAdd=heightToAdd+20:index==5?heightToAdd=heightToAdd+20:heightToAdd=heightToAdd;arrayToReturn.push(languagesObject[index].item);}return arrayToReturn;}},{key:\"checkForDownload\",value:function checkForDownload(){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:4,y:0});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var pdf=new jsPDF();pdf.addImage(dataUrl,'JPEG',0,0,width,height);pdf.save(\"Resume\"+\".pdf\");this.props.downloadEnded();if(this.props.pages>1){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:3,y:637});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var _pdf=new jsPDF();_pdf.addImage(dataUrl,'JPEG',0,0,width,height);_pdf.save(\"Resume_Page_2\"+\".pdf\");}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.layer!=undefined){if(parseInt(this.layer.getClientRect().height)>620&&this.props.pages==1){this.props.addPage();}}this.props.triggerDownload==true&&this.checkForDownload();}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/React.createElement(Stage,{y:this.props.currentPage>1?-650:0,fontFamily:\"Georgia\",width:470,height:640,ref:function ref(node){_this4.stageRef=node;}},/*#__PURE__*/React.createElement(Layer,{ref:function ref(node){_this4.layer=node;}},/*#__PURE__*/React.createElement(Group,{x:40,y:40,ref:function ref(node){_this4.personalInfoRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#A96366\",fontStyle:\"bold\",fontSize:23,text:this.props.values.firstname}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#A96366\",fontStyle:\"bold\",y:30,fontSize:23,text:this.props.values.lastname}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#3B3B3B\",fontStyle:\"bold\",y:60,fontSize:10,text:this.props.values.occupation}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#3B3B3B\",y:75,fontSize:10,text:this.props.values.city+\",\"+this.props.values.postalcode}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#3B3B3B\",y:90,fontSize:10,text:this.props.values.email}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fill:\"#3B3B3B\",y:105,fontSize:10,text:this.props.values.phone})),/*#__PURE__*/React.createElement(Rect,{x:40,height:1,y:this.stageRef?this.personalInfoRef.getClientRect().height+55/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,width:400,fill:\"#ededed\"}),/*#__PURE__*/React.createElement(Group,{x:40,y:this.stageRef?this.personalInfoRef.getClientRect().height+77/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,ref:function ref(node){_this4.SummaryRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:11,text:\"Summary\"}),/*#__PURE__*/React.createElement(Group,{x:80},/*#__PURE__*/React.createElement(Text,{width:320,fontFamily:\"Georgia\",fontSize:8,text:this.props.values.summary}))),/*#__PURE__*/React.createElement(Rect,{x:40,height:1,y:this.stageRef&&this.personalInfoRef?this.personalInfoRef.getClientRect().height+this.SummaryRef.getClientRect().height+100/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,width:400,fill:\"#ededed\"}),/*#__PURE__*/React.createElement(Group,{x:40,y:this.stageRef?this.personalInfoRef.getClientRect().height+this.SummaryRef.getClientRect().height+120/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,ref:function ref(node){_this4.ExperienceRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:11,text:\"Experience\"}),/*#__PURE__*/React.createElement(Group,{x:80},this.returnEmployments())),/*#__PURE__*/React.createElement(Rect,{x:40,height:1,y:this.stageRef?this.ExperienceRef.getClientRect().height+this.personalInfoRef.getClientRect().height+this.SummaryRef.getClientRect().height+130/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,width:400,fill:\"#ededed\"}),/*#__PURE__*/React.createElement(Group,{x:40,y:this.stageRef?this.personalInfoRef.getClientRect().height+this.ExperienceRef.getClientRect().height+this.SummaryRef.getClientRect().height+150/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,ref:function ref(node){_this4.EducationsRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:11,text:\"Education\"}),/*#__PURE__*/React.createElement(Group,{x:80},this.returnEducations())),/*#__PURE__*/React.createElement(Rect,{x:40,height:1,y:this.stageRef?this.ExperienceRef.getClientRect().height+this.personalInfoRef.getClientRect().height+this.SummaryRef.getClientRect().height+this.EducationsRef.getClientRect().height+170/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,width:400,fill:\"#ededed\"}),/*#__PURE__*/React.createElement(Group,{x:40,y:this.stageRef?this.EducationsRef.getClientRect().height+this.personalInfoRef.getClientRect().height+this.ExperienceRef.getClientRect().height+this.SummaryRef.getClientRect().height+188/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,ref:function ref(node){_this4.SkillsRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:11,text:\"Skills\"}),/*#__PURE__*/React.createElement(Group,{x:80,y:-10},this.returnSkills())),/*#__PURE__*/React.createElement(Rect,{x:40,height:1,y:this.stageRef?this.ExperienceRef.getClientRect().height+this.SkillsRef.getClientRect().height+this.personalInfoRef.getClientRect().height+this.SummaryRef.getClientRect().height+this.EducationsRef.getClientRect().height+199/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,width:400,fill:\"#ededed\"}),/*#__PURE__*/React.createElement(Group,{x:40,y:this.stageRef?this.EducationsRef.getClientRect().height+this.SkillsRef.getClientRect().height+this.personalInfoRef.getClientRect().height+this.ExperienceRef.getClientRect().height+this.SummaryRef.getClientRect().height+217/* This 60 is the padding added at the top + some spacing under personal info  40padding + 15 spacing */:0,ref:function ref(node){_this4.languagesRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Georgia\",fontSize:11,text:\"Languages\"}),/*#__PURE__*/React.createElement(Group,{x:80,y:-10},this.returnLaguages()))));}}]);return Cv3;}(Component);export default Cv3;","map":null,"metadata":{},"sourceType":"module"}