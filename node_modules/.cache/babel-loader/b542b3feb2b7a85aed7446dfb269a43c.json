{"ast":null,"code":"import _classCallCheck from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Stage,Layer,Rect,Circle,Image,Text,Group,Line}from'react-konva';import jsPDF from'jspdf';var Cv1=/*#__PURE__*/function(_Component){_inherits(Cv1,_Component);var _super=_createSuper(Cv1);function Cv1(props){var _this;_classCallCheck(this,Cv1);_this=_super.call(this,props);_this.heighToAdd=[];_this.refs=[];_this.educationsHeighToAdd=[];_this.educationsRefs=[];_this.skillsHeightToAdd=[];_this.skillsRefs=[];_this.languagesHeightToAdd=[];_this.languagesRefs=[];_this.returnEmployments=_this.returnEmployments.bind(_assertThisInitialized(_this));_this.checkForDownload=_this.checkForDownload.bind(_assertThisInitialized(_this));_this.returnEducations=_this.returnEducations.bind(_assertThisInitialized(_this));_this.returnSkills=_this.returnSkills.bind(_assertThisInitialized(_this));_this.returnLanguages=_this.returnLanguages.bind(_assertThisInitialized(_this));_this.state={count:0};return _this;}// Employments list data holders\n_createClass(Cv1,[{key:\"returnEmployments\",value:function returnEmployments(){var _this2=this;var employmentsObjects=[];var arraytToReturn=[];var TotalHeightToAdd=0;this.refs=Object.assign([],this.refs);// To fix Object not assignable \nvar _loop=function _loop(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this2.heighToAdd[index-1];}if(_this2.props.values.employments[index]!==null){employmentsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{verticalAlign:\"top\",y:TotalHeightToAdd,ref:function ref(node){_this2.refs[index]=node;}},/*#__PURE__*/React.createElement(Rect,{height:4,width:300,y:260}),/*#__PURE__*/React.createElement(Text// Employment name and employer\n,{width:300,fontFamily:\"Poppins\",text:_this2.props.values.employments[index].jobTitle+\", \"+_this2.props.values.employments[index].employer,verticalAlign:\"top\",y:264,x:125,fontSize:7,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text// employment date\n,{width:300,verticalAlign:\"top\",fontFamily:\"Poppins\",text:_this2.props.values.employments[index].begin+\" - \"+_this2.props.values.employments[index].end,y:264,x:370,fontSize:7,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text// Employment Description\n,{width:320,verticalAlign:\"top\",fontFamily:\"Poppins\",text:_this2.props.values.employments[index].description,y:275,x:125,fontSize:7})),height:index>0?_this2.heighToAdd[index-1]:0};_this2.refs[index]!=undefined?_this2.heighToAdd[index]=parseInt(_this2.refs[index].getClientRect().height):_this2.heighToAdd[index]=0;arraytToReturn.push(employmentsObjects[index].item);}};for(var index=0;index<this.props.values.employments.length;index++){_loop(index);}return arraytToReturn;}},{key:\"returnEducations\",value:function returnEducations(){var _this3=this;var educationsObjects=[];var arraytToReturn=[];var TotalHeightToAdd=30;// give it a 30 because the heading of educations is 30 so we  need to move the educations down by 30px \nthis.educationsRefs=Object.assign([],this.educationsRefs);// To fix Object not assignable \nvar _loop2=function _loop2(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this3.educationsHeighToAdd[index-1];}if(_this3.props.values.educations[index]!==null){educationsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{verticalAlign:\"top\",y:parseInt(TotalHeightToAdd),ref:function ref(node){_this3.educationsRefs[index]=node;}},/*#__PURE__*/React.createElement(Rect,{height:4,width:300,y:260}),/*#__PURE__*/React.createElement(Text// Employment name and employer\n,{width:300,fontFamily:\"Poppins\",text:_this3.props.values.educations[index].degree+\", \"+_this3.props.values.educations[index].school,verticalAlign:\"top\",y:267,x:125,fontSize:7,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text// employment date\n,{width:300,verticalAlign:\"top\",fontFamily:\"Poppins\",text:_this3.props.values.educations[index].started+\" - \"+_this3.props.values.educations[index].finished,y:267,x:370,fontSize:7,fontStyle:\"bold\"}),/*#__PURE__*/React.createElement(Text// Employment Description\n,{width:320,verticalAlign:\"top\",fontFamily:\"Poppins\",text:_this3.props.values.educations[index].description,y:277,x:125,fontSize:7})),height:index>0?_this3.educationsHeighToAdd[index-1]:0};_this3.educationsRefs[index]!=undefined?_this3.educationsHeighToAdd[index]=parseInt(_this3.educationsRefs[index].getClientRect().height):_this3.educationsHeighToAdd[index]=0;arraytToReturn.push(educationsObjects[index].item);}};for(var index=0;index<this.props.values.educations.length;index++){_loop2(index);}return arraytToReturn;}},{key:\"returnSkills\",value:function returnSkills(){var _this4=this;var skillsObjects=[];var arrayToReturn=[];var TotalHeightToAdd=0;this.skillsRefs=Object.assign([],this.skillsRefs);var _loop3=function _loop3(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this4.skillsHeightToAdd[index-1];}skillsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:TotalHeightToAdd,ref:function ref(node){_this4.skillsRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",text:_this4.props.values.skills[index]!==null?_this4.props.values.skills[index].name:\"\",y:200,x:30,fontSize:7}),/*#__PURE__*/React.createElement(Rect,{height:4,width:100,strokeWidth:2,stroke:\"black\",y:211,x:30,scaleX:0.8}),/*#__PURE__*/React.createElement(Rect,{height:4,width:_this4.props.values.skills[index]!=undefined?_this4.props.values.skills[index].rating:0,fill:\"black\",y:211,x:30,scaleX:0.8}),/*#__PURE__*/React.createElement(Rect,{height:6,width:60,y:220,x:30})),height:index>0?_this4.educationsHeighToAdd[index-1]:0};_this4.skillsRefs[index]!=undefined?_this4.skillsHeightToAdd[index]=parseInt(_this4.skillsRefs[index].getClientRect().height):_this4.skillsHeightToAdd[index]=0;arrayToReturn.push(skillsObjects[index].item);};for(var index=0;index<this.props.values.skills.length;index++){_loop3(index);}return arrayToReturn;}},{key:\"returnLanguages\",value:function returnLanguages(){var _this5=this;var languagesObjects=[];var arrayToReturn=[];var TotalHeightToAdd=10;this.languagesRefs=Object.assign([],this.languagesRefs);var _loop4=function _loop4(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this5.languagesHeightToAdd[index-1];}languagesObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:TotalHeightToAdd,ref:function ref(node){_this5.languagesRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{text:_this5.props.values.languages[index].name,fontSize:7,fontStyle:\"bold\",fontFamily:\"Poppins\"}),/*#__PURE__*/React.createElement(Text,{x:48,text:_this5.props.values.languages[index].level,fontSize:7,fontFamily:\"Poppins\"})),height:index>0?_this5.languagesHeightToAdd[index-1]:0};_this5.languagesRefs[index]!=undefined?_this5.languagesHeightToAdd[index]=parseInt(_this5.languagesRefs[index].getClientRect().height):_this5.languagesHeightToAdd[index]=0;arrayToReturn.push(languagesObjects[index].item);};for(var index=0;index<this.props.values.languages.length;index++){_loop4(index);}return arrayToReturn;}},{key:\"checkForDownload\",value:function checkForDownload(){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:4,y:0});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var pdf=new jsPDF();pdf.addImage(dataUrl,'JPEG',0,0,width,height);pdf.save(\"Resume\"+\".pdf\");this.props.downloadEnded();if(this.props.pages>1){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:3,y:637});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var _pdf=new jsPDF();_pdf.addImage(dataUrl,'JPEG',0,0,width,height);_pdf.save(\"Resume_Page_2\"+\".pdf\");}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.layer!=undefined){if(parseInt(this.layer.getClientRect().height)>620&&this.props.pages==1){this.props.addPage();}}// Checking when download is clicked and trigger a download \nthis.props.triggerDownload==true&&this.checkForDownload();}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/React.createElement(Stage,{width:470,height:640,ref:function ref(node){_this6.stageRef=node;}},/*#__PURE__*/React.createElement(Layer,{y:this.props.currentPage>1?-650:0,x:0,ref:function ref(node){_this6.layer=node;}},this.props.values.photo!=null?/*#__PURE__*/React.createElement(Image,{x:30,y:30,height:85,width:85,image:this.props.values.photo}):/*#__PURE__*/React.createElement(Group,{x:-20},/*#__PURE__*/React.createElement(Rect,{stroke:\"#080808\",height:70,width:70,x:50,y:40,strokeWidth:2}),/*#__PURE__*/React.createElement(Text,{width:300,height:200,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"photo\",fontSize:9,y:70,x:72})),/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:this.props.values.firstname+\" \"+this.props.values.lastname,y:50,x:130,fontSize:20,ref:function ref(node){_this6.firstnameRef=node;}}),/*#__PURE__*/React.createElement(Text,{width:260,height:200,fontFamily:\"Poppins\",text:this.props.values.occupation,y:this.firstnameRef?60+this.firstnameRef.getClientRect().height:80,x:130,fontSize:15}),/*#__PURE__*/React.createElement(Text,{width:300,height:200,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Professional Summary\",y:160,x:125,fontSize:15}),/*#__PURE__*/React.createElement(Rect,{height:4,width:320,fill:\"black\",y:185,x:125}),/*#__PURE__*/React.createElement(Text,{width:333,ref:function ref(node){_this6.summaryRef=node;},fontFamily:\"Poppins\",text:this.props.values.summary,y:200,x:125,lineHeight:\"1.2\",fontSize:7}),/*#__PURE__*/React.createElement(Group,{ref:function ref(node){_this6.infoHeight=node;}},/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Info\",y:160,x:30,fontSize:15}),/*#__PURE__*/React.createElement(Rect,{height:4,width:30,fill:\"black\",y:185,x:30}),/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Address\",y:200,x:30,fontSize:9}),/*#__PURE__*/React.createElement(Text,{width:82,ref:function ref(node){_this6.addressRef=node;},fontFamily:\"Poppins\",text:this.props.values.address,lineHeight:\"1.2\",y:217,x:30,fontSize:7}),/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Phone\",fontSize:9,y:this.addressRef?224+this.addressRef.getClientRect().height:234,x:30}),/*#__PURE__*/React.createElement(Text,{ref:function ref(node){_this6.phoneRef=node;},width:82,fontFamily:\"Poppins\",text:this.props.values.phone,lineHeight:\"1.2\",x:30,y:this.addressRef?240+this.addressRef.getClientRect().height:249,fontSize:7,draggable:true,onDragStart:function onDragStart(){_this6.setState({phone:{isDragging:true}});},onDragEnd:function onDragEnd(e){_this6.setState({phone:{isDragging:false,x:e.target.x(),y:e.target.y()}});}}),/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Email\",fontSize:9,y:this.addressRef?255+this.addressRef.getClientRect().height:275,x:30}),/*#__PURE__*/React.createElement(Text,{width:90,fontFamily:\"Poppins\",text:this.props.values.email,lineHeight:\"1.2\",x:30,y:this.addressRef?270+this.addressRef.getClientRect().height:290,fontSize:7})),/*#__PURE__*/React.createElement(Group,{ref:function ref(node){_this6.languagesRef=node;},y:this.infoHeight?this.infoHeight.getClientRect().height+5:155},/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Languages\",y:160,x:30,fontSize:14}),/*#__PURE__*/React.createElement(Rect,{height:4,width:30,fill:\"black\",y:178,x:30}),/*#__PURE__*/React.createElement(Group,{y:178,x:30},this.returnLanguages())),/*#__PURE__*/React.createElement(Group,{y:this.infoHeight?this.infoHeight.getClientRect().height+this.languagesRef.getClientRect().height+10:155},/*#__PURE__*/React.createElement(Text,{width:300,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Skills\",y:160,x:30,fontSize:14}),/*#__PURE__*/React.createElement(Rect,{height:4,width:30,fill:\"black\",y:180,x:30}),this.returnSkills()),/*#__PURE__*/React.createElement(Group,{width:300,ref:function ref(node){_this6.employmentsRef=node;},y:this.summaryRef?this.summaryRef.getClientRect().height-10:0},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Employment History\",y:229,x:125,fontSize:14}),/*#__PURE__*/React.createElement(Rect,{height:4,width:320,fill:\"black\",y:249,x:125}),this.returnEmployments()),/*#__PURE__*/React.createElement(Group,{ref:function ref(node){_this6.educationsRef=node;},y:this.summaryRef?this.summaryRef.getClientRect().height+this.employmentsRef.getClientRect().height-40:0},/*#__PURE__*/React.createElement(Text,{width:300,height:200,fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"Education History\",y:264,x:125,fontSize:14}),/*#__PURE__*/React.createElement(Rect,{height:4,width:320,fill:\"black\",y:284,x:125}),this.returnEducations())));}}]);return Cv1;}(Component);export default Cv1;","map":null,"metadata":{},"sourceType":"module"}