{"ast":null,"code":"import _classCallCheck from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import addResume,{getResumes,removeResume}from'../../../firestore/dbOperations';import{Link}from'react-router-dom';import addResumesImage from\"../../../assets/undraw_add_document_0hek.svg\";import fire from'../../../conf/fire';var ResumesList=/*#__PURE__*/function(_Component){_inherits(ResumesList,_Component);var _super=_createSuper(ResumesList);function ResumesList(props){var _this;_classCallCheck(this,ResumesList);_this=_super.call(this,props);_this.state={resumes:null};_this.setAsCurrentResume=_this.setAsCurrentResume.bind(_assertThisInitialized(_this));_this.returnResumes=_this.returnResumes.bind(_assertThisInitialized(_this));_this.deleteResume=_this.deleteResume.bind(_assertThisInitialized(_this));return _this;}_createClass(ResumesList,[{key:\"deleteResume\",value:function deleteResume(userId,resumeId,indexInState){removeResume(userId,resumeId);var array=this.state.resumes;console.log(\"array is this\");console.log(array);// Notifying the state that a resume has been deleted\nthis.props.showDeletedToast();setTimeout(function(){document.location.reload();},1300);}// When user click on go to resume we save the resume id he clicked on so we can display the proper inforamtions in our Resume Board\n},{key:\"setAsCurrentResume\",value:function setAsCurrentResume(resumeId,data){localStorage.removeItem(\"currentResumeId\");localStorage.removeItem(\"currentResumeDara\");localStorage.setItem(\"currentResumeId\",resumeId);localStorage.setItem(\"currentResumeItem\",data);console.log(\"Data of resumes\");var resumeData=JSON.parse(localStorage.getItem(\"currentResumeItem\"));console.log(resumeData.firstname);}//// List all resumes for that specific user\n},{key:\"returnResumes\",value:function returnResumes(){var _this2=this;var resumes=[];var _loop=function _loop(index){resumes[index]=/*#__PURE__*/React.createElement(\"li\",{key:index,className:\"resumeItem\"},/*#__PURE__*/React.createElement(\"div\",{className:\"resumeItemStatus\",style:{backgroundColor:\"#2ecc71\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"resumeItemContent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"resumeItemContentWrapper\"},/*#__PURE__*/React.createElement(\"span\",{className:\"name\"},_this2.state.resumes[index].item.firstname+\" \"+_this2.state.resumes[index].item.lastname),/*#__PURE__*/React.createElement(\"span\",{className:\"occupation\"},\"Web developer\")),/*#__PURE__*/React.createElement(\"div\",{style:{minWidth:\"217px\"}},/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return _this2.setAsCurrentResume(_this2.state.resumes[index].id,JSON.stringify(_this2.state.resumes[index]));},className:\"btn-default\",style:{textDecoration:\"none\",fontSize:\"13px\",marginRight:\"10px\"},to:\"/?step=3\"},\" Go To Resume\"),/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this2.deleteResume(localStorage.getItem(\"user\"),_this2.state.resumes[index].id,index);},style:{fontSize:\"13px\",backgroundColor:\"#e74c3c\"},className:\"btn-default\"},\"Remove\"))));};for(var index=0;index<this.state.resumes.length;index++){_loop(index);}return resumes;}},{key:\"componentWillMount\",value:function componentWillMount(){var _this3=this;fire.auth().onAuthStateChanged(function(user){if(user){var resumes;/// Getting the resumes\nresumes=getResumes(user.uid);resumes.then(function(value){resumes=value;_this3.setState({resumes:resumes});});}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"dashboardContent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"headContent\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Dashboard \"),this.state.resumes!=null&&/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return addResume(localStorage.getItem(\"user\"));},to:\"/\",style:{fontSize:\"17px\"},className:\"btn-default\"},\"  + Add new \")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"resumesList\"},this.state.resumes==null?/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",display:\"flex\",flexDirection:\"column\"}},/*#__PURE__*/React.createElement(\"img\",{className:\"noResumesImage\",src:addResumesImage}),/*#__PURE__*/React.createElement(Link,{onClick:function onClick(){return addResume(localStorage.getItem(\"user\"));},style:{textDecoration:\"none \"},to:\"/\"},/*#__PURE__*/React.createElement(\"a\",{className:\"btn-default\"},\" Add Resume   \"))):/*#__PURE__*/React.createElement(\"ul\",null,this.returnResumes()))));}}]);return ResumesList;}(Component);export default ResumesList;","map":null,"metadata":{},"sourceType":"module"}