{"ast":null,"code":"import _classCallCheck from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Login.scss';import GoogleImage from'../../../assets/google.png';import FacebookImage from'../../../assets/facebook.png';import Input from'../../Form/simple-input/SimpleInput';import fire from'../../../conf/fire';import firebase from'firebase';import addUser from'../../../firestore/auth';import{IncrementUsers}from'../../../firestore/dbOperations';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:\"\",password:\"\"};_this.handleInputs=_this.handleInputs.bind(_assertThisInitialized(_this));_this.signInWithGoogle=_this.signInWithGoogle.bind(_assertThisInitialized(_this));_this.signInWithFacebook=_this.signInWithFacebook.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"login\",value:function login(event){var _this2=this;event.preventDefault();fire.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then(function(u){// Succefully Logged in \n_this2.props.closeModal();// To close  login  modal on success\n}).catch(function(error){_this2.props.throwError(error.message);console.log(error);});}},{key:\"handleInputs\",value:function handleInputs(title,value){switch(title){case\"Email\":this.setState({email:value});break;case\"Password\":this.setState({password:value});break;default:break;}}},{key:\"signInWithGoogle\",value:function signInWithGoogle(){var providerGoogle=new firebase.auth.GoogleAuthProvider();fire.auth().signInWithPopup(providerGoogle).then(function(result){// This gives you a Google Access Token. You can use it to access the Google API.\nvar token=result.credential.accessToken;// The signed-in user info.\nvar user=result.user;addUser(user.uid,\"Welcome back\");// ...\n}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;// The email of the user's account used.\nvar email=error.email;// The firebase.auth.AuthCredential type that was used.\nvar credential=error.credential;// ...\n});this.props.closeModal();}},{key:\"signInWithFacebook\",value:function signInWithFacebook(){var providerFacebook=new firebase.auth.FacebookAuthProvider();fire.auth().signInWithPopup(providerFacebook).then(function(result){// This gives you a Google Access Token. You can use it to access the Google API.\nvar token=result.credential.accessToken;// The signed-in user info.\nvar user=result.user;addUser(user.uid,\"Welcome\",\"back\");// ...\n}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;// The email of the user's account used.\nvar email=error.email;// The firebase.auth.AuthCredential type that was used.\nvar credential=error.credential;// ...\n});this.props.closeModal();}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"auth\"},/*#__PURE__*/React.createElement(\"div\",{className:\"head\"},/*#__PURE__*/React.createElement(\"span\",null,\"Log in\")),/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"socialAuth\"},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){_this3.signInWithGoogle();},className:\"googleAuthItem\"},/*#__PURE__*/React.createElement(\"img\",{src:GoogleImage}),/*#__PURE__*/React.createElement(\"span\",null,\"Login with Google\")),/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){_this3.signInWithFacebook();},className:\"facebookAuthItem\"},/*#__PURE__*/React.createElement(\"img\",{src:FacebookImage}),/*#__PURE__*/React.createElement(\"span\",null,\"Login with Facebook\")),/*#__PURE__*/React.createElement(\"div\",{className:\"devider\"},/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"span\",null,\"Or\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.login},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Input,{title:\"Email\",handleInputs:this.handleInputs})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Input,{type:\"Password\",title:\"Password\",handleInputs:this.handleInputs})),/*#__PURE__*/React.createElement(\"input\",{className:\"inputSubmit\",value:\"Login\",type:\"submit\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"modalFooter\"},/*#__PURE__*/React.createElement(\"span\",null,\"Don't have and account? \",/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.props.handleNavigationClick();}},\"Sign up\")),/*#__PURE__*/React.createElement(\"span\",null,\"Lost 't your password? \",/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this3.props.showPasswordRecovery();}},\"Recover password\"))));}}]);return Login;}(Component);export default Login;","map":null,"metadata":{},"sourceType":"module"}