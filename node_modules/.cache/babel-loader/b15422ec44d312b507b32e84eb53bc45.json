{"ast":null,"code":"import _classCallCheck from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pulkitkhanna/Downloads/resumen-01/codecanyon-28990151-resumen-multistep-resume-builder/ResumeN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Stage,Layer,Rect,Circle,Image,Text,Group,Line}from'react-konva';import jsPDF from'jspdf';var Cv4=/*#__PURE__*/function(_Component){_inherits(Cv4,_Component);var _super=_createSuper(Cv4);function Cv4(props){var _this;_classCallCheck(this,Cv4);_this=_super.call(this,props);_this.heighToAdd=[];_this.refs=[];_this.educationsHeighToAdd=[];_this.educationsRefs=[];_this.skillsHeightToAdd=[];_this.skillsRefs=[];_this.languagesHeightToAdd=[];_this.languagesRefs=[];_this.returnEmployments=_this.returnEmployments.bind(_assertThisInitialized(_this));_this.returnEducations=_this.returnEducations.bind(_assertThisInitialized(_this));_this.returnSkills=_this.returnSkills.bind(_assertThisInitialized(_this));_this.returnLanguages=_this.returnLanguages.bind(_assertThisInitialized(_this));_this.checkForDownload=_this.checkForDownload.bind(_assertThisInitialized(_this));return _this;}// Employments list data holders\n_createClass(Cv4,[{key:\"returnEmployments\",// Holding the reference of each employment item so we can access to its heigh seperatly\n// Educations list data holders\nvalue:function returnEmployments(){var _this2=this;var employmentsObjects=[];var arraytToReturn=[];var TotalHeightToAdd=0;this.refs=Object.assign([],this.refs);var _loop=function _loop(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this2.heighToAdd[index-1]+5;}if(_this2.props.values.employments[index]!==null){employmentsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:TotalHeightToAdd,ref:function ref(node){_this2.refs[index]=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:\"6\",fontStyle:\"bold\",y:20,width:230,text:_this2.props.values.employments[index].jobTitle}),/*#__PURE__*/React.createElement(Text,{x:230,fontFamily:\"Poppins\",fontSize:\"6\",fontStyle:\"bold\",y:20,width:230,text:_this2.props.values.employments[index].begin+\" - \"+_this2.props.values.employments[index].end}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:\"6\",y:30,width:285,fontStyle:\"bold\",fill:\"#a9aaab\",text:_this2.props.values.employments[index].employer}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:\"6\",y:38,width:285,text:_this2.props.values.employments[index].description})),height:index>0?_this2.heighToAdd[index-1]:0};_this2.refs[index]!=undefined?_this2.heighToAdd[index]=parseInt(_this2.refs[index].getClientRect().height):_this2.heighToAdd[index]=0;arraytToReturn.push(employmentsObjects[index].item);}};for(var index=0;index<this.props.values.employments.length;index++){_loop(index);}return arraytToReturn;}// Educations list data holders\n},{key:\"returnEducations\",// Holding the reference of each employment item so we can access to its heigh seperatly\nvalue:function returnEducations(){var _this3=this;var educationsObjects=[];var arraytToReturn=[];var TotalHeightToAdd=0;this.educationsRefs=Object.assign([],this.educationsRefs);// To fix Object not assignable \nvar _loop2=function _loop2(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this3.educationsHeighToAdd[index-1]+5;}if(_this3.props.values.educations[index]!==null){educationsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:parseInt(TotalHeightToAdd),ref:function ref(node){_this3.educationsRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:\"6\",fontStyle:\"bold\",y:20,width:230,text:_this3.props.values.educations[index].degree}),/*#__PURE__*/React.createElement(Text,{x:230,fontFamily:\"Poppins\",fontSize:\"6\",fontStyle:\"bold\",y:20,width:230,text:_this3.props.values.educations[index].started+\" - \"+_this3.props.values.educations[index].finished}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:\"6\",y:30,width:285,fontStyle:\"bold\",fill:\"#a9aaab\",text:_this3.props.values.educations[index].school}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:\"6\",y:38,width:285,text:_this3.props.values.educations[index].description})),height:index>0?_this3.educationsHeighToAdd[index-1]:0};_this3.educationsRefs[index]!=undefined?_this3.educationsHeighToAdd[index]=parseInt(_this3.educationsRefs[index].getClientRect().height):_this3.educationsHeighToAdd[index]=0;arraytToReturn.push(educationsObjects[index].item);}};for(var index=0;index<this.props.values.educations.length;index++){_loop2(index);}return arraytToReturn;}// Skills list data holders\n},{key:\"returnSkills\",value:function returnSkills(){var _this4=this;var skillsObjects=[];var arrayToReturn=[];var TotalHeightToAdd=0;this.skillsRefs=Object.assign([],this.skillsRefs);var _loop3=function _loop3(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this4.skillsHeightToAdd[index-1]+5;}skillsObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:parseInt(TotalHeightToAdd),ref:function ref(node){_this4.skillsRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:7,y:20,width:283,text:_this4.props.values.skills[index]!==null?_this4.props.values.skills[index].name:\"\"}),/*#__PURE__*/React.createElement(Rect,{y:30,strokeWidth:1,stroke:\"#3D3E42\",height:3,width:100}),/*#__PURE__*/React.createElement(Rect,{y:30,strokeWidth:1,stroke:\"#3D3E42\",fill:\"#3D3E42\",height:3,width:_this4.props.values.skills[index]!=undefined?_this4.props.values.skills[index].rating:0})),height:index>0?_this4.educationsHeighToAdd[index-1]:0};_this4.skillsRefs[index]!=undefined?_this4.skillsHeightToAdd[index]=parseInt(_this4.skillsRefs[index].getClientRect().height):_this4.skillsHeightToAdd[index]=0;arrayToReturn.push(skillsObjects[index].item);};for(var index=0;index<this.props.values.skills.length;index++){_loop3(index);}return arrayToReturn;}// Languages list data holders\n},{key:\"returnLanguages\",value:function returnLanguages(){var _this5=this;var languagesObjects=[];var arrayToReturn=[];var TotalHeightToAdd=10;this.languagesRefs=Object.assign([],this.languagesRefs);var _loop4=function _loop4(index){if(index>0){TotalHeightToAdd=TotalHeightToAdd+_this5.languagesHeightToAdd[index-1]+3;}languagesObjects[index]={item:/*#__PURE__*/React.createElement(Group,{y:TotalHeightToAdd,ref:function ref(node){_this5.languagesRefs[index]=node;}},/*#__PURE__*/React.createElement(Text,{y:14,fontFamily:\"Poppins\",fontSize:\"6\",fontStyle:\"bold\",text:_this5.props.values.languages[index].name}),/*#__PURE__*/React.createElement(Text,{y:14,x:87,fontFamily:\"Poppins\",fontSize:\"6\",text:_this5.props.values.languages[index].level})),height:index>0?_this5.languagesHeightToAdd[index-1]:0};_this5.languagesRefs[index]!=undefined?_this5.languagesHeightToAdd[index]=parseInt(_this5.languagesRefs[index].getClientRect().height):_this5.languagesHeightToAdd[index]=0;arrayToReturn.push(languagesObjects[index].item);};for(var index=0;index<this.props.values.languages.length;index++){_loop4(index);}return arrayToReturn;}},{key:\"checkForDownload\",value:function checkForDownload(){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:4,y:0});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var pdf=new jsPDF();pdf.addImage(dataUrl,'JPEG',0,0,width,height);pdf.save(\"Resume\"+\".pdf\");this.props.downloadEnded();if(this.props.pages>1){var dataUrl=this.stageRef.getStage().toDataURL({pixelRatio:3,y:637});var doc=new jsPDF(\"p\",\"mm\",\"a4\");var width=doc.internal.pageSize.getWidth();var height=doc.internal.pageSize.getHeight();var _pdf=new jsPDF();_pdf.addImage(dataUrl,'JPEG',0,0,width,height);_pdf.save(\"Resume_Page_2\"+\".pdf\");}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.layer!=undefined){if(parseInt(this.layer.getClientRect().height)>620&&this.props.pages==1){this.props.addPage();}}this.props.triggerDownload==true&&this.checkForDownload();}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/React.createElement(Stage,{y:this.props.currentPage>1?-650:0,fontFamily:\"Georgia\",width:470,height:640,ref:function ref(node){_this6.stageRef=node;}},/*#__PURE__*/React.createElement(Layer,{ref:function ref(node){_this6.layer=node;}},/*#__PURE__*/React.createElement(Group,{ref:function ref(node){_this6.headRef=node;}},/*#__PURE__*/React.createElement(Rect,{width:470,height:100,fill:\"#3D3E42\"}),/*#__PURE__*/React.createElement(Text,{y:35,width:470,letterSpacing:2,align:\"center\",fontFamily:\"Poppins\",fontSize:15,text:this.props.values.firstname+\" \"+this.props.values.lastname,fill:\"white\"}),/*#__PURE__*/React.createElement(Rect,{x:this.props.values.firstname.length+this.props.values.lastname.length>23?78:110,y:20,width:this.props.values.firstname.length+this.props.values.lastname.length>23?310:240,align:\"center\",strokeWidth:1,height:65,stroke:\"white\",fill:false}),/*#__PURE__*/React.createElement(Rect,{y:55,x:205,height:1,fill:\"white\",width:50}),/*#__PURE__*/React.createElement(Text,{y:60,width:470,letterSpacing:2,align:\"center\",fontFamily:\"Poppins\",fontSize:10,text:this.props.values.occupation,fill:\"#FBFAFF\"})),/*#__PURE__*/React.createElement(Rect,{height:this.stageRef?this.employmentsRef.getClientRect().height+this.educationsRef.getClientRect().height+this.profileRef.getClientRect().height+10:0,width:2,y:this.stageRef?this.headRef.getClientRect().height+20:0,x:150,fill:\"#3D3E42\"}),/*#__PURE__*/React.createElement(Group,{x:170,y:this.headRef?this.headRef.getClientRect().height+20:0,ref:function ref(node){_this6.profileRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"PROFILE\"}),/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontSize:6,y:20,width:283,text:this.props.values.summary})),/*#__PURE__*/React.createElement(Group,{x:170,y:this.stageRef?this.headRef.getClientRect().height+this.profileRef.getClientRect().height+30:0,ref:function ref(node){_this6.employmentsRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"EMPLOYMENTS\"}),this.returnEmployments()),/*#__PURE__*/React.createElement(Group,{x:170,y:this.stageRef?this.headRef.getClientRect().height+this.employmentsRef.getClientRect().height+10+this.profileRef.getClientRect().height+30:0,ref:function ref(node){_this6.educationsRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"EDUCATIONS\"}),this.returnEducations()),/*#__PURE__*/React.createElement(Group,{x:20,y:this.headRef?this.headRef.getClientRect().height+20:0,ref:function ref(node){_this6.detailsRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"DETAILS\"}),/*#__PURE__*/React.createElement(Text,{y:14,fontSize:6,fontFamily:\"Poppins\",text:this.props.values.email}),/*#__PURE__*/React.createElement(Text,{y:23,fontSize:6,fontFamily:\"Poppins\",text:this.props.values.phone}),/*#__PURE__*/React.createElement(Text,{y:31,width:120,fontSize:6,fontFamily:\"Poppins\",text:this.props.values.address+\" ,\"+this.props.values.city}),/*#__PURE__*/React.createElement(Text,{y:41,fontFamily:\"Poppins\",fontSize:6,text:this.props.values.postalcode})),/*#__PURE__*/React.createElement(Group,{x:20,y:this.headRef?this.headRef.getClientRect().height+this.detailsRef.getClientRect().height+30:0,ref:function ref(node){_this6.skillsRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"SKILLS\"}),this.returnSkills()),/*#__PURE__*/React.createElement(Group,{x:20,y:this.skillsRef?this.headRef.getClientRect().height+this.skillsRef.getClientRect().height+this.detailsRef.getClientRect().height+40:0,ref:function ref(node){_this6.languagesRef=node;}},/*#__PURE__*/React.createElement(Text,{fontFamily:\"Poppins\",fontStyle:\"bold\",text:\"LANGUAGES\"}),this.returnLanguages())));}}]);return Cv4;}(Component);export default Cv4;","map":null,"metadata":{},"sourceType":"module"}